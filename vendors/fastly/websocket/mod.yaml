validate: 
  allow_wasi: true
  
  imports:
    include:
    - namespace: fastly_http_req
      name: auto_decompress_response_set
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: body_downstream_get
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: cache_override_v2_set
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_body
      name: close
      params:
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: close
      params:
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: close
      params:
      - I32
      results:
      - I32
    - namespace: wasi_snapshot_preview1
      name: environ_get
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: wasi_snapshot_preview1
      name: environ_sizes_get
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: wasi_snapshot_preview1
      name: fd_write
      params:
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: framing_headers_mode_set
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: framing_headers_mode_set
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: header_insert
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: header_names_get
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: header_names_get
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: header_values_get
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: header_values_get
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: header_values_set
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: header_values_set
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: method_get
      params:
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: method_set
      params:
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: new
      params:
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: new
      params:
      - I32
      results:
      - I32
    - namespace: fastly_http_body
      name: new
      params:
      - I32
      results:
      - I32
    - namespace: wasi_snapshot_preview1
      name: proc_exit
      params:
      - I32
      results: []
    - namespace: wasi_snapshot_preview1
      name: random_get
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: redirect_to_websocket_proxy
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: send
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: send_downstream
      params:
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: status_get
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: status_set
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: uri_get
      params:
      - I32
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: uri_set
      params:
      - I32
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: version_get
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: version_get
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_resp
      name: version_set
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_req
      name: version_set
      params:
      - I32
      - I32
      results:
      - I32
    - namespace: fastly_http_body
      name: write
      params:
      - I32
      - I32
      - I32
      - I32
      - I32
      results:
      - I32

    namespace:
      include:
        - fastly_http_body
        - fastly_http_req
        - fastly_http_resp
        - wasi_snapshot_preview1
      exclude:

  exports:
    max: 2
    include:
      - name: _start
        params: []
        results: []
      - name: __main_void
        params: []
        results: [I32]

  size:
    max: 10MB

  complexity:
    max_risk: medium