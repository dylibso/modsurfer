validate: 
  allow_wasi: true
  
  imports:
    include:
      - name: close
        namespace: fastly_http_body
        params: [I32]
        results: [I32]
      - name: write
        namespace: fastly_http_body
        params: [I32, I32, I32, I32, I32]
        results: [I32]
      - name: new
        namespace: fastly_http_body
        params: [I32]
        results: [I32]
      - name: status_set
        namespace: fastly_http_resp
        params: [I32, I32]
        results: [I32]
      - name: send_downstream
        namespace: fastly_http_resp
        params: [I32, I32, I32]
        results: [I32]
      - name: close
        namespace: fastly_http_resp
        params: [I32]
        results: [I32]
      - name: body_downstream_get
        namespace: fastly_http_req
        params: [I32, I32]
        results: [I32]
      - name: auto_decompress_response_set
        namespace: fastly_http_req
        params: [I32, I32]
        results: [I32]
      - name: framing_headers_mode_set
        namespace: fastly_http_req
        params: [I32, I32]
        results: [I32]
      - name: header_insert
        namespace: fastly_http_req
        params: [I32, I32, I32, I32, I32]
        results: [I32]
      - name: send
        namespace: fastly_http_req
        params: [I32, I32, I32, I32, I32, I32]
        results: [I32]
      - name: redirect_to_websocket_proxy
        namespace: fastly_http_req
        params: [I32, I32]
        results: [I32]
    namespace:
      include:
        - fastly_http_body
        - fastly_http_req
        - fastly_http_resp
        - wasi_snapshot_preview1
      exclude:

  exports:
    max: 2
    include:
      - name: _start
        params: []
        results: []
      - name: __main_void
        params: []
        results: [I32]

  size:
    max: 10MB

  complexity:
    max_risk: medium